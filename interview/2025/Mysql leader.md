1、MySQL的索引是什么？有什么作用和优缺点？
```
本质：排好序的索引
目的：减少磁盘io，提升查询效率
优点：时间复杂度O（log N）
	 b+树， 排序，范围，order/group by
	 行锁
缺点：空间占用
	 写入惩罚（维护索引）

不必要，不加索引。
```

2、mysql的索引的数据结构为什么使用B+树
```
本质：为了减少磁盘io，减少查询次数，提供范围查询
对比：hash/b树，不支持范围查询
	 红黑树/二叉树 树层高太深
优势：page 16kb 3层可支持千万级别的数据查询
     双向链表，支持双向查询
     稳定，每次查询都是3次io	 
```

3、什么是聚簇索引，什么是非聚簇索引
```
本质： 叶子节点到底存了什么？

聚：整条物理数据
非：当前索引和主键

都用聚簇索引：磁盘浪费，数据一致性问题
回表：索引覆盖，不实用select *
主键不能使用uuid：b+树数据变化，引发页分裂
```

4、什么叫最左匹配原则
```
最左匹配原则,是安装b+树的结构来的，a，b，c三个索引，a相同，然后排b，b相同然后排c
顺序颠倒：也能走，因为有优化器
范围查询导致截断：a = 1 and b > 2 and c =3 ；a和b是走索引，c没有
like 也是最左匹配 ‘a%’
```
5、什么叫索引下推
```
本质：判断是在server层还是存储引擎层做的
mysq 5.6之前是 遇到范围查询后就不再查索引，抛到server层进行过滤。
5.6之后会放到存储引擎层进行判断
减小回表。
应用：就是进来不进行回表，在查询过程中有在二级索引树把该做的做完 
```

6、索引有哪些设计原则？
```
本质：读性能，写性能，磁盘空间的零和博弈。
1:区分度优先
2:收敛索引数量（5个以内）
3:尽量索引覆盖
4:写入惩罚：日志表，流水表等写多读少，不剪索引。平凡变化字段如金额等也不建索引。
5:写入规范：函数，隐私转换，左模糊
监控看版，不断优化
```