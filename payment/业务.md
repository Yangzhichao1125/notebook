

### 第一关：聚合收单 (Acquiring) —— “帮商户收钱”

**痛点：** 商户想收钱，但不想对接几十个接口（支付宝、微信、银联、Visa、MasterCard...）。 **我们的业务：**

- **统一入口：** 给商户提供一个统一的 API（比如 `unifiedOrder`）。商户不管用户用什么付，只管调我们。
    
- **屏蔽差异：** 我们负责去啃那些难懂的银行文档，把它们翻译成统一的语言。

难点：
1:参数标准化的适配



### 第二关：智能路由 (Smart Routing) —— “帮老板省钱”

**痛点：** 通道是有成本的（费率）和限额的。

- 支付宝费率 0.6%，某个小银行渠道费率 0.3%。
    
- 某个渠道突然挂了，或者单日限额 100 万满了。 **我们的业务（Leader 核心）：**
    
- **自动切换：** 系统要能根据金额、费率、稳定性，自动选择**“最便宜且最稳”**的一条路把钱收进来。
    
- **容灾切换：** A 通道挂了，毫秒级切到 B 通道，用户无感知。
    

### 第三关：风控安全 (Risk Control) —— “帮公司保命”

**痛点：** 信用卡盗刷、洗钱、羊毛党刷单。如果控制不住，公司会被罚死或者赔死。 **我们的业务：**

- **规则引擎：** 比如“同一个 IP 1 分钟内支付 10 次 -> 拦截”；“半夜 2 点突然大额支付 -> 拦截”。
    
- **黑白名单：** 拦截已知的黑客账号。

流程：漏斗，ip 黑白名单，规则引擎，人工审核


### 第四关：渠道交互 (Channel Integration) —— “真实的搬运”

**痛点：** 网络是不稳定的，银行系统是老旧的。 **我们的业务：**

- **三方交互：** 真正发起 HTTP/TCP 请求去扣款。
    
- **状态同步：** 这是最烦人的。银行扣款成功了，但不一定立马通知你（或者通知丢包了）。你需要设计**“回调 + 轮询”**机制，死皮赖脸地去问银行：“这笔钱到底扣没扣？”
    

### 第五关：对账 (Reconciliation) —— “确保账实相符”

**这也是面试中最高频的考点。** **痛点：**

- 我们系统记账：用户付了 100 元。
    
- 支付宝系统记账：用户付了 100 元。
    
- 银行实际到账：99.4 元（扣了 0.6 元手续费）。 **我们的业务：**
    
- **日终核对：** 每天凌晨，自动下载支付宝的对账单（Excel/CSV），跟我们数据库里的订单**逐笔比对**。
    
- **差错处理：** 发现“长款”（多收了）或“短款”（少收了），要自动报警或自动平账。**这叫“信息流”与“资金流”的统一。**
    

### 第六关：清算与结算 (Clearing & Settlement) —— “分钱”

**痛点：** 钱收进来了，通常是先在平台的备付金账户里，还没到商户手里。 **我们的业务：**

- **分账：** 这 100 块里，平台抽成 2 块，分销商拿 1 块，商户拿 97 块。
    
- **打款：** 到了 T+1 日，把算好的 97 块真的转账给商户的银行卡。
    

---

### 一张图看懂“业务全景”

为了让你更直观地理解，我为你找了一张经典的支付系统业务架构图。请看图中的**“核心支付”**和**“对账中心”**部分。

---

### 32 岁 Leader 的“业务思考”

在面试中，当初级开发还在纠结“接口怎么通”时，你需要展示这种思维：

1. **高并发不是最难的，数据一致性才是。** （钱不能多也不能少）
    
2. **支付不是一瞬间的动作，而是一个状态流转的过程。** （Created -> Paying -> Success -> Settled）
    
3. **异常流程比正常流程重要 10 倍。** （掉单了怎么办？重复扣款了怎么办？退款失败了怎么办？）